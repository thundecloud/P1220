# AI 人生引擎 - 更新日志

## [未发布] - 进行中

### 新增

- 📊 **完整日志耦合系统**（2025-12-29）
  - **服务层日志增强**：
    - `characterService.ts`：属性生成、天赋抽取、角色创建全流程日志
    - `lorebookService.ts`：条目激活、关键词匹配、递归扫描详细日志
    - `aiService.ts`：API调用耗时、Token使用统计、响应详情
    - 所有服务函数均带有context标记便于追踪
  - **存储层日志增强**：
    - `gameStore.ts`：会话管理、消息添加、检定记录、回合变化
    - `characterStore.ts`：角色设置、世界线选择、天赋选择、背景切换
    - 所有状态变化均有详细日志输出
  - **Tauri命令日志增强**：
    - `tauri.ts`：所有Tauri命令调用带耗时统计
    - 存档、配置、世界线、Lorebook操作全量日志
  - **窗口管理器日志增强**：
    - `windowManager.ts`：窗口创建、聚焦、关闭事件详细日志
    - Tauri窗口事件监听（created/error/close-requested）
  - **页面组件日志增强**：
    - `Landing.tsx`：页面加载、用户操作（新游戏/快速开始/加载存档）
    - `GameMain.tsx`：游戏初始化、AI调用、消息发送全流程日志

- 🪟 **独立日志窗口与日志文件系统**（2025-12-29）
  - **日志文件本地保存**：
    - Rust后端日志系统升级，自动保存到本地文件
    - 日志文件按日期命名（`ai-trpg-YYYY-MM-DD.log`）
    - 保存路径：`Documents/AI-TRPG/logs/`
    - 同时输出到控制台和文件
    - 新增Tauri命令：`get_log_files`、`read_log_file`
  - **独立日志监视器窗口**：
    - 自启动独立日志窗口（与主窗口分离）
    - 实时日志显示，支持暂停/恢复
    - 日志级别过滤（DEBUG/INFO/WARN/ERROR）
    - 关键词搜索功能
    - 日志统计信息（各级别计数）
    - 日志文件选择器（查看历史日志）
    - 自动滚动功能
    - 导出和清空功能
    - 深色科技风格UI设计
  - **窗口管理系统**：
    - 新增 `windowManager.ts` 统一管理多窗口
    - 支持窗口焦点、关闭事件监听
    - 主窗口启动1秒后自动打开日志窗口

- ⚡ **快速开始功能**（2025-12-29）
  - 在启动页面新增"QUICK_START.EXE"按钮
  - 一键使用预设角色（流浪剑客）快速进入游戏
  - 绿色高亮设计，突出快速入口
  - 自动加载第一个预设角色和默认世界线
  - 直接跳转到游戏页面，无需手动创建角色

### 修复

- 🔧 **DeepSeek API配置修复**（2025-12-29）
  - 修复Config.tsx中模型预设的baseUrl映射问题
  - 现在正确读取`preset.baseUrl`字段
  - DeepSeek v3的API端点配置正确：`https://api.deepseek.com/v1`
  - 所有OpenAI兼容的模型现在都能正确设置baseUrl

### 技术改进

- 📦 **路由系统升级**（2025-12-29）
  - 从`BrowserRouter`切换到`HashRouter`（Tauri多窗口兼容性）
  - 新增日志窗口路由：`/log-window`
  - 支持URL参数传递（quickstart）
  - Tauri权限配置升级：添加窗口创建、关闭、聚焦权限

- 🎨 **UI 优化与用户体验改进**（2025-12-24 晚）
  - **颜色对比度优化**：
    - 提高所有文本颜色的可读性
    - Muted foreground: #c4b5a0 → #d4c4b0
    - Primary: #d4a574 → #e8b973
    - Accent 颜色全面提亮（Amber/Crimson/Sapphire/Emerald）
    - 符合 WCAG 可访问性标准
  - **AI 模型预设更新**：
    - 默认模型切换为 DeepSeek v3（性价比最优）
    - 新增 Claude 4 Opus、Claude 3.7 Sonnet
    - 推荐模型标注"(推荐)"并置顶
    - 支持 baseUrl 配置（适配 DeepSeek）
  - **日志查看器页面**（/logs）：
    - 完整的日志查看界面（级别过滤、搜索、导出）
    - 统计信息面板
    - 自动滚动选项
    - 从配置页面一键访问（"🐛 查看日志"按钮）
  - **预设角色系统**（数据层）：
    - 创建 `presetCharacters.ts` 数据文件
    - 7个经典角色原型（战士/法师/盗贼/学者/探险家等）
    - 支持三种创建模式（narrative/coc/hybrid）
    - 完整的角色属性、技能、叙事描述
    - 待实现：UI 集成到角色创建页面

- 🐛 **DEBUG 日志系统**（2025-12-24）
  - **后端日志系统**：
    - Rust `log` + `env_logger` 框架
    - Tauri 日志命令：`log_debug`、`log_info`、`log_warn`、`log_error`
    - 前后端日志桥接
  - **前端日志服务（logService.ts）**：
    - 统一的日志接口
    - 多级别日志（DEBUG/INFO/WARN/ERROR）
    - 上下文标记支持
    - 开发模式下同时输出到浏览器控制台
    - 性能计时日志
    - 对象格式化日志
  - **集成到所有服务**：
    - aiService、checkService、saveService 均已集成
    - 完整的调试追踪能力

- 🎲 **COC 判定系统**（2025-12-24 - Phase 2.3 完成）
  - **checkService.ts 核心服务**：
    - 完整的 COC 7版判定机制
    - 1d100 骰子系统
    - 判定结果四种类型：大成功(01-05)、成功、失败、大失败(96-100)
  - **判定难度系统**：
    - 普通：技能值
    - 困难：技能值 / 2
    - 极难：技能值 / 5
  - **判定类型支持**：
    - 基础属性判定（STR/CON/DEX/INT/EDU/POW/CHA/LUC）
    - 技能判定（任意技能值）
    - 对抗判定（双方比拼）
    - 幸运判定
    - 理智判定
    - 多重判定（取最好/最差结果）
  - **判定结果可视化**：
    - 结果标签（中文）
    - 结果颜色映射（Cassette Futurism 风格）
    - 完整的判定记录（Check 类型）

- 📚 **Lorebook 动态注入系统**（2025-12-24 - Phase 2.2 完成）
  - **aiService.ts 增强**：
    - `generateGameResponse()`：智能生成游戏 AI 响应
    - `buildSystemPrompt()`：构建完整系统提示词
    - `buildCharacterPrompt()`：角色信息格式化
    - `generateOpeningMessage()`：生成游戏开场白
  - **Lorebook 自动激活**：
    - 根据对话历史自动激活相关条目
    - lorebookService 完整集成
    - 支持扫描深度、递归扫描、sticky/cooldown 机制
  - **提示词组装**：
    - 角色信息（属性、天赋、叙事描述）
    - 世界背景（历史、物理规则、魔法体系）
    - 激活的 Lorebook 条目（自动注入）
    - 叙事指导（判定说明、风格要求）
  - **多模式支持**：
    - 叙事模式（narrative）：侧重描述和性格
    - COC 模式（coc）：侧重属性和技能
    - 混合模式（hybrid）：两者兼顾

- 💾 **自动存档系统**（2025-12-24 - Phase 3.1 完成）
  - **saveService.ts 核心服务**：
    - 自动保存（可配置间隔）
    - 手动保存/加载
    - 快速保存（覆盖当前存档）
    - 获取最近存档
  - **存档功能**：
    - `saveGame()`：保存游戏到 JSON 文件
    - `loadGame()`：从文件加载游戏
    - `listSaves()`：列出所有存档
    - `deleteSave()`：删除存档
    - `quickSave()`：快速保存（覆盖自动存档槽）
    - `getRecentSave()`：获取角色的最近存档
  - **自动存档管理**：
    - `startAutoSave()`：启动定时自动保存
    - `stopAutoSave()`：停止自动保存
    - 防抖机制（防止频繁保存）
    - 仅在游戏活跃时保存
  - **SaveData 类型**：
    - 版本控制
    - 角色数据
    - 游戏会话
    - 元数据（创建时间、游戏时长）

### 技术改进

- 🛠️ **TypeScript 编译优化**（2025-12-24）
  - 修复 `erasableSyntaxOnly` 错误
  - 将 `enum` 转换为 `const as` 模式
  - logService 和 checkService 类型定义优化
  - 构建成功验证

- 📝 **代码质量提升**（2025-12-24）
  - 所有服务均提供完整的日志记录
  - 错误处理优化（统一的 try-catch 模式）
  - 类型安全增强（严格的类型注解）
  - 函数文档注释完善

### 里程碑

- ✅ **最低限度可玩目标达成**（2025-12-24）
  - ✅ 角色创建系统（含 COC 属性生成）
  - ✅ 世界线系统（含 Lorebook）
  - ✅ AI 叙事系统（含 Lorebook 动态注入）
  - ✅ 判定系统（完整 COC 7版规则）
  - ✅ 存档系统（自动/手动存档）
  - ✅ 日志系统（完整 DEBUG 支持）

所有核心游戏机制已实现，下一步进行 UI 集成和端到端测试。

---

- 🎴 **Character Card V2 导入导出系统**（2025-12-21）
  - **完整的 SillyTavern 兼容**：
    - `characterCardService.ts` 服务实现
    - Character 到 CharacterCardV2 双向转换
    - 完整保留扩展数据（属性、天赋、详细履历）
  - **多格式支持**：
    - JSON 格式导出/导入
    - PNG 元数据嵌入/提取（tEXt chunk）
  - **CharacterManagement 页面**：
    - 角色列表管理
    - 一键导入/导出（JSON/PNG）
    - 加载角色到游戏
    - 角色删除功能
  - **路由集成**：`/character-management`
  - **Config 页面入口**：角色管理按钮

- 🌍 **世界线内容扩展**（2025-12-21）
  - **新增 5 个历史世界线**：
    - 拜占庭君士坦丁堡 1075（紫金之城 · 东罗马最后的荣光）
    - 北宋汴京 1100（汴京繁华 · 清明上河图时代）
    - 佛罗伦萨 1490（美第奇之光 · 文艺复兴巅峰）
    - 美国西部 1880（荒野镖客 · 拓荒时代）
    - 魏玛柏林 1925（黄金年代 · 战间期文化之都）
  - **完整 Lorebook 条目**：
    - 每个世界线包含 5 个详细条目
    - 涵盖政治、经济、文化、社会各方面
    - 关键词触发系统
  - **COC 属性参数**：为每个世界线定制属性生成参数
  - **总计世界线数量**：从 3 个扩展到 8 个

- 🖼️ **角色头像上传功能**（2025-12-21）
  - **AvatarUpload.tsx 组件**：
    - 图片选择与预览
    - Base64 编码存储
    - 文件类型验证（仅图片）
    - 文件大小限制（2MB）
  - **CharacterService 更新**：
    - `createCharacter` 函数支持 `avatarUrl` 参数
    - Character 类型包含可选的 `avatarUrl` 字段
  - **CharacterCreation 集成**：
    - 角色创建页面添加头像上传模块
    - 支持角色创建时上传头像
    - 头像数据随角色一起保存

- 🤖 **AI 服务层完整实现**（2025-12-21 - Phase 2.1）
  - **aiService.ts 核心服务**：
    - 统一的 AI 提供商接口
    - `generateAIResponse()` 函数统一调用
    - `testAIConfig()` API 连接测试
    - 完整的错误处理和响应解析
  - **多提供商支持**：
    - **Gemini API**：完整实现（初始兼容目标）
      - 支持 Gemini 2.0 Flash / 1.5 Flash / 1.5 Pro
      - 正确处理 system prompt（转换为 user 消息）
      - 完整的 usage 统计
    - **OpenAI API**：GPT-4 / GPT-3.5 Turbo
    - **Anthropic API**：Claude 3.5 Sonnet / 3 Opus / 3 Haiku
    - **自定义端点**：支持 OpenAI 兼容格式
  - **AI 类型系统扩展**（types.ts）：
    - `AIProvider` 类型定义
    - `AIMessage` 和 `AIResponse` 接口
    - `AIConfig` 配置结构
    - 更新 `AppConfig` 使用新的 AI 类型

- ⚙️ **Config 页面 AI 配置增强**（2025-12-21）
  - **模型预设系统**：
    - 从 aiService 动态生成预设列表
    - Gemini / OpenAI / Anthropic 预设
    - 自动配置 API 端点和模型名称
  - **API 连接测试**：
    - 实时测试 API 配置
    - 可视化测试结果（成功/失败状态）
    - 详细错误信息提示
  - **Gemini 专属优化**：
    - API Key 获取链接（Google AI Studio）
    - API 端点可选配置
    - 占位符文本适配

- 🎮 **游戏主循环实现**（2025-12-21 - Phase 2.1 完成）
  - **CharacterPanel.tsx 组件**（角色信息面板）：
    - 角色基本信息展示（姓名、性别、年龄）
    - 角色头像显示（如果有）
    - 8 项基础属性可视化（进度条 + 数值 + 等级）
    - 4 项派生属性展示（HP/SAN/MP/MOV）
    - 天赋特质卡片
    - 技能列表（支持滚动）
    - Cassette Futurism 风格完整适配
  - **GameDialogue.tsx 组件**（游戏对话区域）：
    - 对话历史展示（玩家/DM/系统消息分类显示）
    - 消息时间戳
    - 自动滚动到最新消息
    - 多行文本输入（自动调整高度）
    - 键盘快捷键（Enter 发送 / Shift+Enter 换行）
    - AI 处理状态指示
    - 判定结果展示（预留）
  - **GameMain.tsx 主页面重构**：
    - 角色加载逻辑（从 location.state 或 localStorage）
    - 配置加载和验证
    - 游戏初始化流程（AI 开场白生成）
    - 完整的消息循环（用户输入 → AI 响应）
    - 提示词构建系统：
      - DM 系统提示词注入
      - 角色信息动态注入（属性、天赋、叙事描述）
      - 对话历史管理
    - 错误处理和用户友好提示
    - 退出确认机制
  - **游戏流程**：
    - 创建/选择角色 → 加载到游戏
    - AI 自动生成开场白
    - 玩家输入行动 → AI 生成叙事响应
    - 完整的游戏循环已可用

- 📚 **Lorebook 管理系统完整实现**（2025-12-21）
  - 路由集成：添加 `/lorebook` 路由到 App.tsx
  - Config 页面添加 Lorebook 管理入口按钮
  - Tauri 后端命令：`save_lorebook`, `load_lorebook`, `list_lorebooks`, `delete_lorebook`
  - LorebookManagement 页面完整功能：增删改查、加载状态、错误处理
  - 支持本地持久化存储（`$DOCUMENTS/AI-TRPG/lorebooks/`）
  - 浏览器开发环境支持（使用 localStorage 模拟）

### 修复
- 🔧 **选择文件夹功能权限修复**（2025-12-21）
  - 添加 `dialog:allow-open` 权限支持文件夹选择对话框
  - 扩展 `fs:read-all` 权限，允许读取任意位置的文件夹（`**`）
  - 添加 `fs:allow-read-dir` 和 `fs:allow-read-file` 权限
  - 修复在 `npm run tauri dev` 环境下无法选择文件夹的问题

- 🐛 **删除确认弹窗时序问题修复**（2025-12-21）
  - 将 `confirm` 对话框从删除处理函数移到按钮 `onClick` 事件中
  - 确保确认对话框在删除操作之前同步弹出
  - 统一 WorldlineManager 和 LorebookManagement 的确认对话框模式

- 🔧 **Tauri v2 配置修复**（2025-12-21）
  - 移除 `tauri.conf.json` 中的 Tauri 1.x 遗留配置
  - 删除 `plugins` 字段中的 v1 allowlist 风格配置（`all: true`）
  - 采用 Tauri 2.x 新权限系统（Capabilities）
  - 创建 `src-tauri/capabilities/default.json` 配置文件
  - 正确配置 shell、dialog、fs 插件权限
  - 使用权限集（`fs:default`, `fs:read-all`, `fs:write-all`）简化配置
  - 添加 `$DOCUMENT` 目录作用域

### 新增
- ⚙️ **Tauri v2 完整迁移**（2025-12-21）
  - 移除旧的 feature flags（`dialog-all`, `fs-all`, `path-all`）
  - 采用 Tauri v2 插件系统：
    - `tauri-plugin-dialog` v2：文件对话框
    - `tauri-plugin-fs` v2：文件系统操作
    - `tauri-plugin-shell` v2：Shell 命令
  - 更新 `lib.rs` 初始化所有插件
  - 安装 Rust 工具链 v1.92.0
  - 前端已使用 Tauri v2 API（`@tauri-apps/api` v2.9.1）

- 📁 **文件夹导入功能**：选择文件夹自动递归读取所有.md/.txt文件
  - Tauri 后端 `read_directory_structure` 命令
  - `SettingImportService` 服务解析目录结构为层次化 `SettingCategory`
  - WorldlineManager 支持三种导入模式：文件夹、单文件、文本粘贴

- 🌍 **自由世界观支持**：不再局限于历史世界线
  - 世界类型：历史、架空历史、奇幻、科幻、赛博朋克、末日废土、自定义
  - 新增字段：`worldType`、`physicsRules`、`technologyLevel`、`magicSystem`、`socialStructure`、`currency`、`uniqueFeatures`
  - 完全支持虚构世界的创建

- 📝 **简历级角色详细信息**：`DetailedProfile` 系统
  - 外貌描述、教育经历、工作经历、人际关系
  - 性格特征、信仰价值观、恐惧弱点、目标动机
  - 爱好兴趣、语言能力、财产资源、重要事件
  - `DetailedProfileEditor` 折叠式高级设置组件

- 🎭 **角色创建模式系统**（★SillyTavern 风格对齐）
  - **三种创建模式**：
    - **叙事模式**：自由文本描述，无需数值属性
    - **COC模式**：完整的属性和天赋系统
    - **混合模式**：叙事描述 + COC属性
  - `NarrativeDescription` 类型：描述、性格、场景、首条问候、对话示例等
  - `CreationModeSelector` 模式选择组件
  - `NarrativeDescriptionEditor` 叙事描述编辑器
  - STEP2 重构：支持根据模式动态显示不同表单
  - 灵活验证：叙事模式只需填写描述性字段，COC模式需要选择天赋
  - **CharacterCreation 完整集成**（2025-12-21）：
    - 集成 `DetailedProfileEditor` 到角色创建页面
    - 更新 `createCharacter` 函数支持 `creationMode`、`narrativeDescription` 和 `detailedProfile` 参数
    - 更新 `handleCreateCharacter` 验证逻辑，根据不同模式验证不同字段
    - 所有创建模式均可正常保存角色数据

### 改进
- WorldlineManager 组件重构，增强导入功能
- Worldline 和 Character 类型大幅扩展
- **Character 类型灵活化**：所有COC字段改为可选，支持纯叙事角色
- CharacterCreation 页面重构：支持多种创建模式

### 技术
- 新增依赖：`@tauri-apps/plugin-dialog` 支持文件夹选择
- 新增服务：
  - `SettingImportService`
  - `characterCardService.ts`（Character Card V2 处理）
- 新增类型：`FileNode`、`Education`、`WorkExperience`、`Relationship`、`PersonalityTrait`、`PhysicalAppearance`、`DetailedProfile`、`CharacterCreationMode`、`NarrativeDescription`
- 新增组件：`CreationModeSelector`、`NarrativeDescriptionEditor`
- 新增页面：`CharacterManagement`

### 文档
- 新增 `更新日志.md`

---

## 2025-12-21 14:30 - 天赋池系统重构与前端设计升级

### 新增

- 🎨 **前端设计重构 - Historical Codex 主题**
  - **全新美学方向**：从 Cassette Futurism（磁带未来主义）转向 Historical Codex（历史典籍）
  - **深色羊皮纸配色**：
    - 主背景：深色羊皮纸夜色（#1a1612）
    - 卡片背景：中性羊皮纸（#2d2621）
    - 文字：象牙白/淡金色（#f5e6d3）
    - 强调色：琥珀金（#d4a574）、深红蜡封（#8b2e2e）、墨蓝（#1e3a5f）
  - **优雅衬线字体系统**：
    - 标题：Cinzel（罗马风格衬线）
    - 正文：Crimson Text（易读的衬线体）
    - 装饰：Tangerine（手写签名感）
  - **沉浸式视觉效果**：
    - 烛光闪烁动画（flicker）
    - 羊皮纸纹理（SVG 噪点）
    - 金箔边角装饰
    - 蜡封徽章样式
    - 墨水晕染效果
  - **精致的交互动画**：
    - 按钮悬停金色光晕
    - 卡片展开动画（unfold）
    - 渐进式列表显示（stagger-reveal）
    - 发光脉冲效果（pulse-glow）
  - **装饰性元素**：
    - 装饰性分隔符（带钻石符号）
    - 羊皮纸边缘效果
    - 自定义滚动条（金色高亮）
  - **完美契合 TRPG 氛围**：历史叙事、沉浸感、古典美学

- 🎴 **天赋池模块化系统**
  - **通用天赋池**（universal_common）：
    - 10个跨时代通用天赋
    - 适应能力、观察敏锐、冷静理智、学习天赋
    - 直觉敏感、魅力非凡、意志坚定、幸运儿
    - 多语天赋、手巧心灵
  - **特色天赋池**（5个新世界线）：
    - `byzantine_specific`：拜占庭宫廷礼仪、希腊火秘术、圣像辩论家等（5个）
    - `song_specific`：科举功名、商业奇才、诗词造诣、理学思辨等（5个）
    - `renaissance_specific`：人文主义学者、绘画天才、建筑设计师等（5个）
    - `wild_west_specific`：神枪手、驯马高手、淘金经验、印第安向导等（5个）
    - `weimar_specific`：表现主义艺术家、包豪斯设计师、爵士乐演奏家等（5个）
  - **总计新增**：35个天赋（10个通用 + 25个特色）
  - **架构优势**：
    - 所有世界线共享通用天赋池，减少重复
    - 每个世界线仅需维护少量特色天赋
    - 易于扩展和维护
    - 自定义世界线默认使用通用天赋池

### 修复

- 🔧 **天赋池绑定问题修复**
  - **根本原因**：后5个世界线引用的天赋池ID在 talents.json 中不存在
  - **受影响世界线**：
    - 拜占庭君士坦丁堡：缺失 byzantine_common、courtier_skills、merchant_trade
    - 北宋汴京：缺失 song_common、scholar_literati、merchant_skills
    - 佛罗伦萨：缺失 renaissance_common、artist_skills、humanist_learning
    - 美国西部：缺失 wild_west_common、gunslinger_skills、frontier_survival
    - 魏玛柏林：缺失 weimar_common、modernist_arts、political_activism
  - **解决方案**：
    - 创建通用天赋池和特色天赋池系统
    - 更新所有世界线的 talentPoolIds 配置
    - 前3个世界线：添加 universal_common 到现有配置
    - 后5个世界线：使用 universal_common + specific 组合
  - **影响**：所有8个世界线现在都可以正常创建角色

- 🐛 **角色数据显示问题修复**
  - **问题**：创建角色后，GameMain 显示"未找到角色数据"
  - **根本原因**：
    - CharacterCreation 只更新了 Zustand Store
    - navigate('/game') 没有传递 state
    - GameMain 不读取 characterStore，只依赖 location.state 或 localStorage
  - **解决方案**：
    - CharacterCreation.tsx:319-322 修改：
      - 添加 localStorage.setItem('currentCharacter', ...)
      - 修改 navigate('/game', { state: { character } })
    - 同时保存到 Store、localStorage 和 navigation state
  - **影响**：角色创建后可以正常加载到游戏界面

- 🔧 **自定义世界线默认天赋池修复**
  - **问题**：WorldlineManager 创建自定义世界线时，默认 talentPoolIds: ['common'] 不存在
  - **解决方案**：WorldlineManager.tsx:191 改为 talentPoolIds: ['universal_common']
  - **影响**：自定义世界线现在使用通用天赋池，可以正常抽取天赋

---

## [0.1.0-dev] - 2025-12-20

### 新增
- ✅ **Lorebook 系统**：完整实现 SillyTavern 风格的 Lorebook
  - `LorebookService` 核心服务（触发、激活、递归扫描）
  - `LorebookEditor` 主编辑器组件
  - `LorebookEntryCard` 条目卡片组件
  - `LorebookEntryForm` 条目编辑表单（三标签页）
  - `LorebookManagement` 管理页面
  - 支持关键词触发、次级过滤、时序控制（Sticky/Cooldown/Delay）
  - 包含组和插入顺序优先级

- 🎨 **Cassette Futurism 视觉风格**：完整重构 UI
  - 温暖塑料米色色调（OKLCH color space）
  - 实体按钮凸起效果（box-shadow bevels）
  - 点阵字体（Press Start 2P + IBM Plex Mono）
  - CRT 扫描线效果
  - 物理 LED 指示灯动画
  - panel-raised 和 panel-recessed 样式系统

- 🎲 **COC 风格属性系统**：
  - 8 项基础属性（STR/CON/DEX/INT/EDU/POW/CHA/LUC）
  - 派生属性（HP/SAN/MP/MOV）
  - Box-Muller 变换生成正态分布随机数
  - 基于世界线参数的属性生成

- 🎁 **天赋系统**：
  - 稀有度加权随机抽取（common/uncommon/rare/epic/legendary）
  - 3 组 9 宫格选择机制
  - AI 提示词片段集成

- 🗺️ **世界线系统**：
  - 世界线选择界面
  - 自定义世界线管理
  - 单文件/文本粘贴导入设定

- 🔧 **基础架构**：
  - Tauri 2 + React 19 + TypeScript
  - Zustand 状态管理
  - Tailwind CSS 4 样式系统
  - 文件系统操作（Tauri 命令）
  - 配置系统

### 文档
- 创建 `Todo.md` 项目任务清单
- 创建 `Readme.md` 技术文档
- 创建 `CLAUDE.md` 项目指南

---

## 版本说明

- **未发布**：正在开发的功能
- **0.1.0-dev**：初始开发版本，核心功能框架
- **0.2.0-alpha**（计划）：完整游戏循环
- **0.3.0-beta**（计划）：性能优化和测试
- **1.0.0**（计划）：正式版发布

---

**更新日期**: 2025-12-21
**当前版本**: 0.1.0-dev
**Tauri 版本**: 2.9.x
**Rust 版本**: 1.92.0
**构建状态**: ⏳ 待验证（Tauri v2 迁移完成，需重启终端）
